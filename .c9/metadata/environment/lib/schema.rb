{"filter":false,"title":"schema.rb","tooltip":"/lib/schema.rb","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":27,"column":4},"action":"insert","lines":[" require 'sqlite3'"," require 'bloc_record/utility'"," "," module Schema","   def table","     BlocRecord::Utility.underscore(name)","   end","   def schema","     unless @schema","       @schema = {}","       connection.table_info(table) do |col|","         @schema[col[\"name\"]] = col[\"type\"]","       end","     end","     @schema","   end ","   def columns","     schema.keys","   end  ","   def attributes","     columns - [\"id\"]","   end  ","   def count","     connection.execute(<<-SQL)[0][0]","       SELECT COUNT(*) FROM #{table}","     SQL","   end   "," end"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":27,"column":4},"end":{"row":27,"column":4},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":175,"mode":"ace/mode/ruby"}},"timestamp":1580628734279,"hash":"311329c52b5b966a094f845cf0302ac943dc41f0"}